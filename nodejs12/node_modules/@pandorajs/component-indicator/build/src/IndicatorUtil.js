"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IndicatorUtil = void 0;
const types_1 = require("./types");
class IndicatorUtil {
    static mergeRawIndicatorResultRows(rows) {
        const hitMap = new Map();
        const ret = [];
        for (const row of rows) {
            let key;
            switch (row.scope) {
                case types_1.IndicatorScope.PROCESS:
                    ret.push(row);
                    break;
                case types_1.IndicatorScope.APP:
                    key = `${types_1.IndicatorScope.APP}##${row.appName}##${row.group}##${row.key}`;
                    if (hitMap.has(key)) {
                        break;
                    }
                    hitMap.set(key, true);
                    ret.push(row);
                    break;
                case types_1.IndicatorScope.SYSTEM:
                    key = `${types_1.IndicatorScope.SYSTEM}##${row.group}##${row.key}`;
                    if (hitMap.has(key)) {
                        break;
                    }
                    hitMap.set(key, true);
                    ret.push(row);
                    break;
                default:
                    ret.push(row);
                    break;
            }
        }
        return ret;
    }
}
exports.IndicatorUtil = IndicatorUtil;
//# sourceMappingURL=IndicatorUtil.js.map