"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EndPointManager = void 0;
const Router = require("koa-router");
class EndPointManager {
    constructor(server) {
        this.server = server;
    }
    register(endPoint) {
        const server = this.server;
        const allPrefixes = endPoint.aliasPrefix
            ? [endPoint.prefix].concat(endPoint.aliasPrefix)
            : [endPoint.prefix];
        for (const prefix of allPrefixes) {
            const router = new Router();
            router.prefix(prefix);
            endPoint.route(router);
            server.use(router.routes());
            server.use(router.allowedMethods());
        }
    }
}
exports.EndPointManager = EndPointManager;
//# sourceMappingURL=EndPointManager.js.map