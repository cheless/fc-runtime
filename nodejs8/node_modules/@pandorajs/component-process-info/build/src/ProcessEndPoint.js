"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProcessEndPoint = void 0;
class ProcessEndPoint {
    constructor(ctx) {
        this.prefix = '/process';
        this.ctx = ctx;
    }
    route(router) {
        const indicatorManager = this.ctx.indicatorManager;
        router.get('/', async (ctx, next) => {
            try {
                const res = await indicatorManager.invokeAllProcessesRaw('process', {
                    appName: ctx.query['appName'],
                });
                const res2nd = res.map(processData => processData.data);
                ctx.ok(res2nd);
            }
            catch (err) {
                ctx.fail(err.message);
            }
        });
    }
}
exports.ProcessEndPoint = ProcessEndPoint;
//# sourceMappingURL=ProcessEndPoint.js.map